<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>form 이벤트</title>
<script>
    window.onload = function() {
        // 첫번째 폼 요소 이벤트 처리(submit 클릭)
        document.frm1.onsubmit = submitFrm1; 
        // 콜백 함수 연결(코드가 길 경우 이렇게 함수 생성하여 사용하는 것이 더 나음!!)
        
        // 두번째 폼 요소 이벤트 처리(submit 클릭)
        document.frm2.onsubmit = function() {
            // alert(">> frm2.submit 클릭!!!"); // 등록 누르면 연결되는지 확인용
            // let accept = document.getElementById("accept");
            let accept = document.frm2.accept;
            // alert("accept.checked : " + accept.checked); // 체크가 됐으면 true or false 
            if (accept.checked == false) {
                alert("약관에 동의해야 합니다.\n약관에 동의 체크하세요");
                return false; // 서버 전송 취소
            }
        };
        
        // [전체 선택] 에 대한 이벤트 처리
        // 체크 상태 : 과목1, 2, 3 모두 체크 처리
        // 체크 해제 : 과목1, 2, 3 모두 체크 해제 처리
        document.frm2.allCheck.onclick = function() { // onchange 사용도 가능
            // 이벤트 발생 콜백 함수 this : 이벤트 발생 객체
            console.log("allCheck.onclick 콜백 함수 this.id : " + this.id);
            if (this.checked) { // 체크된 상태
                document.frm2.subject1.checked = true;
                document.frm2.subject2.checked = true;
                document.frm2.subject3.checked = true;
            } else { // 체크가 해제된 상태
                document.frm2.subject1.checked = false;
                document.frm2.subject2.checked = false;
                document.frm2.subject3.checked = false;
            }
        };
    };
    
    function submitFrm1() {
        console.log(">> frm1 submit 클릭!!!");
        
        // pw1 -> pw2 설정
        // let pw1 = document.getElementById("user_pw1");
        let pw1 = document.frm1.pw1;
        console.log("pw1 : " + pw1 + ", pw1.value : " + pw1.value);
        let pw2 = document.frm1.pw2;
        console.log("pw2 : " + pw2);
        
        pw2.value = pw1.value;
        
        return false; // 서버쪽으로 넘어갔는지 이벤트 연결 확인위해 이렇게 설정
    }
</script>
</head>
<body>
    <form name="frm1">
        <fieldset>
            <legend> 폼 요소1 (비밀번호 확인) </legend>
            <p>
                <label for="user_pw1"> 비밀번호1 </label>
                <input type="password" name="pw1" id="user_pw1"> 
                <!-- 텍스트 클릭하면 비밀번호 칸으로 연결되게 설정해놓음 -->
            </p>
            <p>
                <label> 확인된 비밀번호 </label>
                <input type="text" name="pw2" id="user_pw1" value="1234">   
                <input type="submit" value="비밀번호 보기">
                <!-- 입력한 비밀번호 url에 보여지도록 표시 설정함 -->
            </p>
        </fieldset>
    </form>
    <hr>
    
    <form name="frm2">
        <fieldset>
        <legend> 폼 요소2 (약관 동의 / 선택) </legend>
        <div id="terms" name="txt">
            여러분을 환영합니다.
            ㅇㅇㅇ 서비스 및 제품(이하 ‘서비스’)을 이용해 주셔서 감사합니다. 본 약관은 다양한 ㅇㅇㅇ 서비스의 이용과 관련하여 ㅇㅇㅇ 서비스를 제공하는 ㅇㅇㅇ 주식회사(이하 ‘ㅇㅇㅇ’)와 이를 이용하는 ㅇㅇㅇ 서비스 회원(이하 ‘회원’) 또는 비회원과의 관계를 설명하며, 아울러 여러분의 ㅇㅇㅇ 서비스 이용에 도움이 될 수 있는 유익한 정보를 포함하고 있습니다.
        </div>
        <p>
            <input type="checkbox" name="accept" id="accept">
            <label for="accept"> 약관에 동의합니다 </label>
            <!-- 텍스트 클릭하면 비밀번호 칸으로 연결되게 설정해놓음 -->
        </p>
        <p>
            <input type="checkbox" name="allCheck" id="id_allchk">
            <label for="id_allchk"> 전체 선택 </label>
            
            <input type="checkbox" name="subject1" id="subject1">
            <label for="subject1"> 과목 1 </label>
            
            <input type="checkbox" name="subject2" id="subject2">
            <label for="subject2"> 과목 2 </label>   
            
            <input type="checkbox" name="subject3" id="subject3">
            <label for="subject3"> 과목 3 </label>
        </p>
        <p>
            <input type="submit" value="등록">
            <input type="reset" value="초기화">
        </p>
        </fieldset>
    </form>
   
    
    
    <br><br><br><br><br><br><br><br><br><br><br>
    <br><br><br><br><br><br><br><br><br><br><br>
</body>
</html>












